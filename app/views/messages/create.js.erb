function addMessageToDOM() {
  const messagesContainer = document.querySelector('.messages');
  messagesContainer.insertAdjacentHTML('beforeend', '<%= j render "shared/message", message: @message %>');
  const input = document.querySelector('#message_content');
  input.value = '';
  input.blur();
}

<% if @message.errors.any? %>
  // handle validation errors later
<% else %>
  addMessageToDOM();
<% end %>
